<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>JAMES - Joint Automatic Measurement and Evaluation System • james</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="JAMES - Joint Automatic Measurement and Evaluation System">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">james</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.8.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting_started.html">JAMES - Joint Automatic Measurement and Evaluation System</a></li>
    <li><a class="dropdown-item" href="../articles/oldfriends.html">Help for old friends</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/growthcharts/james/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>JAMES - Joint Automatic Measurement and Evaluation System</h1>
            <h3 data-toc-skip class="subtitle">JAMES 1.8.0.9001 (August
2025)</h3>
                        <h4 data-toc-skip class="author">Stef van
Buuren, Arjan Huizing (TNO Child Health)</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/growthcharts/james/blob/HEAD/vignettes/articles/getting_started.Rmd" class="external-link"><code>vignettes/articles/getting_started.Rmd</code></a></small>
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>JAMES is a web service for creating and interpreting charts of child
growth and development. The current version of JAMES</p>
<ol style="list-style-type: decimal">
<li>provides access to high-quality growth charts used by the Dutch
youth health care;</li>
<li>screens for abnormal height, weight and head circumference;</li>
<li>converts developmental data into the D-score;</li>
<li>predicts future growth and development.</li>
</ol>
<p>JAMES is a RESTful API that runs on a remote host. The system accepts
requests from the Dutch Digital Child Health Record System <a href="https://www.ddjgz.nl" class="external-link">DD-JGZ</a> and other clients using a the <a href="https://decor.nictiz.nl/pub/jeugdgezondheidszorg/jgz-html-20240426T081156/index.html" class="external-link">Basisdataset
JGZ 4.0.0</a> protocol. Child data are coded according to the <a href="https://james.groeidiagrammen.nl/schemas/bds_v3.0.json" class="external-link">JSON data
schema 3.0</a>.</p>
<p>The following sections illustrate how a client can make requests to
JAMES using various client languages. In principle, any
<code>HTTP</code> client will work with JAMES. The document highlights
some applications of the service and provides pointers to relevant
background information.</p>
<p>The service aids in monitoring and evaluating childhood growth. JAMES
is created and maintained by the Netherlands Organisation for Applied
Scientific Research TNO. Please contact Stef van Buuren
&lt;stef.vanbuuren at tno.nl&gt; for further information.</p>
<div class="section level3">
<h3 id="primary-james-user-functionality">Primary JAMES user functionality<a class="anchor" aria-label="anchor" href="#primary-james-user-functionality"></a>
</h3>
<table style="width:100%;" class="table">
<colgroup>
<col width="6%">
<col width="26%">
<col width="41%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">Verb</th>
<th align="left">API end point</th>
<th align="left">Description</th>
<th align="left">Maps to <code>james</code> function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">POST</td>
<td align="left"><code>/data/upload/{dfm}</code></td>
<td align="left">Upload child data</td>
<td align="left"><code><a href="../reference/upload_data.html">upload_data()</a></code></td>
</tr>
<tr class="even">
<td align="left">POST</td>
<td align="left"><code>/charts/draw/{ffm}</code></td>
<td align="left">Draw child data on growth chart</td>
<td align="left"><code><a href="../reference/draw_chart.html">draw_chart()</a></code></td>
</tr>
<tr class="odd">
<td align="left">POST</td>
<td align="left"><code>/charts/list/{dfm}</code></td>
<td align="left">List available growth charts</td>
<td align="left"><code><a href="../reference/list_charts.html">list_charts()</a></code></td>
</tr>
<tr class="even">
<td align="left">POST</td>
<td align="left"><code>/charts/validate/{dfm}</code></td>
<td align="left">Validate a chart code</td>
<td align="left"><code><a href="../reference/validate_chartcode.html">validate_chartcode()</a></code></td>
</tr>
<tr class="odd">
<td align="left">POST</td>
<td align="left"><code>/screeners/list/{dfm}</code></td>
<td align="left">List available growth screeners</td>
<td align="left"><code><a href="../reference/list_screeners.html">list_screeners()</a></code></td>
</tr>
<tr class="even">
<td align="left">POST</td>
<td align="left"><code>/screeners/apply/{dfm}</code></td>
<td align="left">Apply growth screeners to child data</td>
<td align="left"><code><a href="../reference/apply_screeners.html">apply_screeners()</a></code></td>
</tr>
<tr class="odd">
<td align="left">GET</td>
<td align="left"><code>/site</code></td>
<td align="left">Request empty site</td>
<td align="left"><code><a href="../reference/request_site.html">request_site()</a></code></td>
</tr>
<tr class="even">
<td align="left">POST</td>
<td align="left"><code>/site/request/{dfm}</code></td>
<td align="left">Request personalised site</td>
<td align="left"><code><a href="../reference/request_site.html">request_site()</a></code></td>
</tr>
<tr class="odd">
<td align="left">POST</td>
<td align="left"><code>/blend/request/{sfm}</code></td>
<td align="left">Obtain a blend from multiple end points</td>
<td align="left"><code><a href="../reference/request_blend.html">request_blend()</a></code></td>
</tr>
<tr class="even">
<td align="left">POST</td>
<td align="left"><code>/version/{dfm}</code></td>
<td align="left">Obtain version information</td>
<td align="left"><code><a href="../reference/version.html">version()</a></code></td>
</tr>
<tr class="odd">
<td align="left">GET</td>
<td align="left"><code>/{session}/{info}</code></td>
<td align="left">Extract session details</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">GET</td>
<td align="left"><code>/{2}/{1}/man</code></td>
<td align="left">Consult R help</td>
<td align="left"><code>help({1}_{2})</code></td>
</tr>
</tbody>
</table>
<p>The table lists the defined API end points and the mapping to each
end point to the corresponding R function.</p>
<p>The definition of the JAMES endpoints can be found at <a href="https://james.groeidiagrammen.nl/docs/" class="external-link">OpenAPI
specification</a>.</p>
</div>
<div class="section level3">
<h3 id="output-formats">Output formats<a class="anchor" aria-label="anchor" href="#output-formats"></a>
</h3>
<p>JAMES is built on top of the <a href="https://www.opencpu.org/api.html" class="external-link"><strong>OpenCPU
API</strong></a>, a powerful and flexible way for online deployment of R
functionality. Although it is possible to use JAMES without knowledge of
OpenCPU, it is useful to browse the OpenCPU features.</p>
<p>OpenCPU offers multiple output formats out of the box. JAMES supports
a subset of these through the <code>/{session}/{info}</code> end point.
Here <code>session</code> is a special session code generated by OpenCPU
that identifies the server location containing the results of a request.
The output format <code>info</code> is one of the following:</p>
<table class="table">
<thead><tr class="header">
<th align="left"><code>{info}</code></th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>json</code></td>
<td align="left">Function result as JSON</td>
</tr>
<tr class="even">
<td align="left"><code>print</code></td>
<td align="left">Function result as formatted as print</td>
</tr>
<tr class="odd">
<td align="left"><code>csv</code></td>
<td align="left">Function result as comma-separated format</td>
</tr>
<tr class="even">
<td align="left"><code>tab</code></td>
<td align="left">Function result as tab-delimited format</td>
</tr>
<tr class="odd">
<td align="left"><code>md</code></td>
<td align="left">Function result as markdown format</td>
</tr>
<tr class="even">
<td align="left"><code>svglite</code></td>
<td align="left">Function result as SVG graph</td>
</tr>
<tr class="odd">
<td align="left"><code>warnings</code></td>
<td align="left">Warnings from the R execution</td>
</tr>
<tr class="even">
<td align="left"><code>messages</code></td>
<td align="left">Messages, especially data validation info</td>
</tr>
<tr class="odd">
<td align="left"><code>console</code></td>
<td align="left">Console print out, useful for locating errors</td>
</tr>
<tr class="even">
<td align="left"><code>stdout</code></td>
<td align="left">Standard output</td>
</tr>
<tr class="odd">
<td align="left"><code>info</code></td>
<td align="left">Overview of JAMES deployment</td>
</tr>
<tr class="even">
<td align="left"><code>parent</code></td>
<td align="left">Parent directory of all OpenCPU session output</td>
</tr>
</tbody>
</table>
<p>In addition, the user can request the function result in a particular
form. JAMES distinguishes the following groups of formats.</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="81%">
</colgroup>
<thead><tr class="header">
<th align="left">Format group</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>dfm</code></td>
<td align="left">Data format: <code>json</code>, <code>csv</code>,
<code>tab</code>, <code>md</code>, <code>print</code>,
<code>parent</code>
</td>
</tr>
<tr class="even">
<td align="left"><code>ffm</code></td>
<td align="left">Figure format: <code>svglite</code>,
<code>print</code>, <code>parent</code>
</td>
</tr>
<tr class="odd">
<td align="left"><code>sfm</code></td>
<td align="left">System format: <code>json</code>, <code>print</code>,
<code>parent</code>
</td>
</tr>
</tbody>
</table>
<p>In general, the user can specify the desired format by appending the
format name to the URL. See <a href="https://www.opencpu.org/api.html#api-formats" class="external-link uri">https://www.opencpu.org/api.html#api-formats</a> for
examples.</p>
</div>
<div class="section level3">
<h3 id="objective">Objective<a class="anchor" aria-label="anchor" href="#objective"></a>
</h3>
<p>This document provides a quick introduction into the main JAMES
features, and how these can be assessed from <code>R</code> and from the
command line.</p>
</div>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<div class="section level3">
<h3 id="version-obtain-version-information">
<strong><code>/version</code></strong>: Obtain version
information<a class="anchor" aria-label="anchor" href="#version-obtain-version-information"></a>
</h3>
<p>Let us first check whether JAMES is running. The following code makes
a simple request to JAMES to see whether it is alive and to return the
version number of the underlying <code>james</code> R package. We
illustrate both requests in <code>R</code> and in <code>bash</code>.</p>
<div class="section level4 tabset">
<h4 class="tabset" id="section"></h4>


<ul class="nav nav-tabs" id="section" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r" id="r-tab" type="button" role="tab" aria-controls="r" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash" id="bash-tab" type="button" role="tab" aria-controls="bash" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r" role="tabpanel" aria-labelledby="r-tab">

<p>We first need to install and load packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"remotes"</span>, <span class="st">"httr"</span>, <span class="st">"jsonlite"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"growthcharts/jamesclient"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"growthcharts/jamesdemodata"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"growthcharts/bdsreader"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/growthcharts/jamesclient" class="external-link">jamesclient</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/" class="external-link">httr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jeroen.r-universe.dev/jsonlite" class="external-link">jsonlite</a></span><span class="op">)</span></span></code></pre></div>
<p>Let’s find out the JAMES version number. In this document, we define
the server that hosts JAMES as follows.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">host</span> <span class="op">&lt;-</span> <span class="st">"http://localhost:8080"</span></span>
<span><span class="co"># host &lt;- "https://james.groeidiagrammen.nl"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"echo "</span>, <span class="va">host</span>, <span class="st">" &gt; .host"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We first illustrate a method that makes two requests to the server.
The following commands call the <code>/version/json</code> end point in
the JAMES API.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"version/json"</span><span class="op">)</span></span></code></pre></div>
<p>We added the <code>/json</code> to the pathname to extract the JSON
representation of the result of the <code>R</code> function
<code><a href="../reference/version.html">james::version()</a></code>. The function result is an object of class
<code>james_post</code> and consists of various components.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "url"          "status_code"  "headers"      "all_headers"  "cookies"     </span></span>
<span><span class="co">##  [6] "content"      "date"         "times"        "request"      "handle"      </span></span>
<span><span class="co">## [11] "request_path" "parsed"       "warnings"     "messages"     "session"</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span><span class="op">$</span><span class="va">url</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "http://localhost:8080/version/json"</span></span></code></pre>
<p>Most of the element are documented in the <code>response</code>
object in the <code>httr</code> package. For example, we could use the
call <code>httr::status_code(r)</code> to obtain the status code. The
function <code><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post()</a></code> adds the last five elements:</p>
<ul>
<li>
<code>r$request_path</code> echoes the endpoint, here
<code>/version/json</code>;</li>
<li>
<code>r$parsed</code> is a parsed version of the element
<code>r$content</code>. Here it is a list of elements like names of the
package, its date, and so on. In case of an error of the server
function, we find the error message here;</li>
<li>
<code>r$warnings</code> contain any warnings thrown during
execution;</li>
<li>
<code>r$messages</code> contain any messages, e.g. data reading
errors;</li>
<li>
<code>r$session</code> (like x0b77cc2385d549) is a unique session
code.</li>
</ul>
<p>The <code><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">jamesclient::james_post()</a></code> function wraps the basis
workhorse <code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST()</a></code> that does the actual server request.
For illustration, we may obtain equivalent content by the POST function
directly.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="st">"version/json"</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://httr.r-lib.org/reference/parse_url.html" class="external-link">parse_url</a></span><span class="op">(</span><span class="va">host</span><span class="op">)</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://httr.r-lib.org/reference/modify_url.html" class="external-link">modify_url</a></span><span class="op">(</span><span class="va">url</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">url</span><span class="op">$</span><span class="va">path</span>, <span class="va">path</span><span class="op">)</span>, query <span class="op">=</span> <span class="st">"auto_unbox=true"</span><span class="op">)</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">POST</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html" class="external-link">content</a></span><span class="op">(</span><span class="va">r</span>, type <span class="op">=</span> <span class="st">"text"</span>, encoding <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $package</span></span>
<span><span class="co">## [1] "james"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $packageVersion</span></span>
<span><span class="co">## [1] "1.8.0.9000"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $packageDate</span></span>
<span><span class="co">## [1] "2025-08-02"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Rversion</span></span>
<span><span class="co">## [1] "4.5.0"</span></span></code></pre>
</div>
<div class="tab-pane" id="bash" role="tabpanel" aria-labelledby="bash-tab">

<p>We use the <code>curl</code> Linux command. If needed, on Ubuntu
install <code>curl</code> as</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">sudo</span> apt update</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="fu">sudo</span> apt <span class="at">-y</span> install curl</span></code></pre></div>
<p>Let’s find out the JAMES version number. We first illustrate a method
that makes two requests to the server.</p>
<p>The following <code>bash</code> commands call the
<code>/version</code> API end point</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'GET'</span> <span class="dt">\</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>   <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/version <span class="dt">\</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">'accept: text/json'</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  </span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> POST <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/version <span class="op">&gt;</span> resp</span></code></pre></div>
<pre><code><span><span class="co">## Redirect to http://localhost:8080/ocpu/library/james/R/version/print</span></span></code></pre>
<p>The response to the request consists of a set of URLs created on the
server, each of which contains details on the response.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">cat</span> resp</span></code></pre></div>
<pre><code><span><span class="co">## /ocpu/tmp/x02555253bfe999/R/.val</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/R/version</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/stdout</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/source</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/console</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/info</span></span>
<span><span class="co">## /ocpu/tmp/x02555253bfe999/files/DESCRIPTION</span></span></code></pre>
<p>The path element following <code>tmp/</code> is a unique session key.
See <a href="https://www.opencpu.org/api.html" class="external-link uri">https://www.opencpu.org/api.html</a> for the interpretation
of the OpenCPU API.</p>
<p>The next snippet constructs the URL of a JSON representation of the
result and downloads the contents of the URL as a file
<code>value1</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)$(</span><span class="fu">head</span> <span class="at">-1</span> resp<span class="va">)</span>/json<span class="pp">?</span>auto_unbox=true <span class="op">&gt;</span> value1</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">cat</span> value1</span></code></pre></div>
<pre><code><span><span class="co">## {</span></span>
<span><span class="co">##   "package": "james",</span></span>
<span><span class="co">##   "packageVersion": "1.8.0.9000",</span></span>
<span><span class="co">##   "packageDate": "2025-08-02",</span></span>
<span><span class="co">##   "Rversion": "4.5.0"</span></span>
<span><span class="co">## }</span></span></code></pre>
<p>The above sequence makes two requests to the server. The following
code compacts both steps into one.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> POST <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/version/json<span class="pp">?</span>auto_unbox=true <span class="op">&gt;</span> value2</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="fu">cat</span> value2</span></code></pre></div>
<pre><code><span><span class="co">## {</span></span>
<span><span class="co">##   "package": "james",</span></span>
<span><span class="co">##   "packageVersion": "1.8.0.9000",</span></span>
<span><span class="co">##   "packageDate": "2025-08-02",</span></span>
<span><span class="co">##   "Rversion": "4.5.0"</span></span>
<span><span class="co">## }</span></span></code></pre>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-1"></h4>
</div>
</div>
<div class="section level3">
<h3 id="dataupload-upload-child-data">
<strong><code>/data/upload</code></strong>: Upload child data<a class="anchor" aria-label="anchor" href="#dataupload-upload-child-data"></a>
</h3>
<p>JAMES understands data that conform to the <a href="https://www.ncj.nl/onderwerp/digitaal-dossier-jgz/bds-jgz-versiebeheer/" class="external-link">Basisdataset
JGZ 4.0.1</a> coded as JSON according to a <a href="https://github.com/growthcharts/bdsreader/blob/master/inst/schemas/bds_v3.0.json" class="external-link">JSON
schema</a>. This section explains how we create, validate and upload
child data to JAMES.</p>
<div class="section level4 tabset">
<h4 class="tabset" id="section-2"></h4>


<ul class="nav nav-tabs" id="section-2" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-1" id="r-1-tab" type="button" role="tab" aria-controls="r-1" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-1" id="bash-1-tab" type="button" role="tab" aria-controls="bash-1" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-1" role="tabpanel" aria-labelledby="r-1-tab">

<p>Let us assume that we have already have child data in <code>R</code>
stored as a <code>data.frame</code> or <code>tibble</code>. Here we copy
the longitudinal demo data <code>maria.json</code> from the
<code>bdsreader</code> package into the working directory.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/maria.json"</span>, package <span class="op">=</span> <span class="st">"bdsreader"</span><span class="op">)</span>, </span>
<span>                     <span class="st">"maria.json"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The contents of the file is <code>json</code> format, ready for
upload:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>{</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  <span class="st">"OrganisatieCode"</span><span class="sc">:</span> <span class="dv">1234</span>,</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>  <span class="st">"Referentie"</span><span class="sc">:</span> <span class="st">"fa308134-069e-49ce-9847-ccdae380ed6f"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>  <span class="st">"ClientGegevens"</span><span class="sc">:</span> {</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>    <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>      {</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">19</span>,</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"2"</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>      },</span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>      {</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">20</span>,</span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"20181011"</span></span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a>      },</span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a>      {</span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">82</span>,</span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"189"</span></span>
<span id="cb21-17"><a href="#cb21-17" tabindex="-1"></a>      },</span>
<span id="cb21-18"><a href="#cb21-18" tabindex="-1"></a>      {</span>
<span id="cb21-19"><a href="#cb21-19" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">91</span>,</span>
<span id="cb21-20"><a href="#cb21-20" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"2"</span></span>
<span id="cb21-21"><a href="#cb21-21" tabindex="-1"></a>      },</span>
<span id="cb21-22"><a href="#cb21-22" tabindex="-1"></a>      {</span>
<span id="cb21-23"><a href="#cb21-23" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">110</span>,</span>
<span id="cb21-24"><a href="#cb21-24" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"990"</span></span>
<span id="cb21-25"><a href="#cb21-25" tabindex="-1"></a>      },</span>
<span id="cb21-26"><a href="#cb21-26" tabindex="-1"></a>      {</span>
<span id="cb21-27"><a href="#cb21-27" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">238</span>,</span>
<span id="cb21-28"><a href="#cb21-28" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"1670"</span></span>
<span id="cb21-29"><a href="#cb21-29" tabindex="-1"></a>      },</span>
<span id="cb21-30"><a href="#cb21-30" tabindex="-1"></a>      {</span>
<span id="cb21-31"><a href="#cb21-31" tabindex="-1"></a>        <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">240</span>,</span>
<span id="cb21-32"><a href="#cb21-32" tabindex="-1"></a>        <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"1900"</span></span>
<span id="cb21-33"><a href="#cb21-33" tabindex="-1"></a>      }</span>
<span id="cb21-34"><a href="#cb21-34" tabindex="-1"></a>    ],</span>
<span id="cb21-35"><a href="#cb21-35" tabindex="-1"></a>    <span class="st">"Groepen"</span><span class="sc">:</span> [</span>
<span id="cb21-36"><a href="#cb21-36" tabindex="-1"></a>      {</span>
<span id="cb21-37"><a href="#cb21-37" tabindex="-1"></a>        <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-38"><a href="#cb21-38" tabindex="-1"></a>          {</span>
<span id="cb21-39"><a href="#cb21-39" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">63</span>,</span>
<span id="cb21-40"><a href="#cb21-40" tabindex="-1"></a>            <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"19950704"</span></span>
<span id="cb21-41"><a href="#cb21-41" tabindex="-1"></a>          },</span>
<span id="cb21-42"><a href="#cb21-42" tabindex="-1"></a>          {</span>
<span id="cb21-43"><a href="#cb21-43" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">71</span></span>
<span id="cb21-44"><a href="#cb21-44" tabindex="-1"></a>          },</span>
<span id="cb21-45"><a href="#cb21-45" tabindex="-1"></a>          {</span>
<span id="cb21-46"><a href="#cb21-46" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">62</span>,</span>
<span id="cb21-47"><a href="#cb21-47" tabindex="-1"></a>            <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"01"</span></span>
<span id="cb21-48"><a href="#cb21-48" tabindex="-1"></a>          }</span>
<span id="cb21-49"><a href="#cb21-49" tabindex="-1"></a>        ]</span>
<span id="cb21-50"><a href="#cb21-50" tabindex="-1"></a>      },</span>
<span id="cb21-51"><a href="#cb21-51" tabindex="-1"></a>      {</span>
<span id="cb21-52"><a href="#cb21-52" tabindex="-1"></a>        <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-53"><a href="#cb21-53" tabindex="-1"></a>          {</span>
<span id="cb21-54"><a href="#cb21-54" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">63</span>,</span>
<span id="cb21-55"><a href="#cb21-55" tabindex="-1"></a>            <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"19901202"</span></span>
<span id="cb21-56"><a href="#cb21-56" tabindex="-1"></a>          },</span>
<span id="cb21-57"><a href="#cb21-57" tabindex="-1"></a>          {</span>
<span id="cb21-58"><a href="#cb21-58" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">71</span></span>
<span id="cb21-59"><a href="#cb21-59" tabindex="-1"></a>          },</span>
<span id="cb21-60"><a href="#cb21-60" tabindex="-1"></a>          {</span>
<span id="cb21-61"><a href="#cb21-61" tabindex="-1"></a>            <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">62</span>,</span>
<span id="cb21-62"><a href="#cb21-62" tabindex="-1"></a>            <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"02"</span></span>
<span id="cb21-63"><a href="#cb21-63" tabindex="-1"></a>          }</span>
<span id="cb21-64"><a href="#cb21-64" tabindex="-1"></a>        ]</span>
<span id="cb21-65"><a href="#cb21-65" tabindex="-1"></a>      }</span>
<span id="cb21-66"><a href="#cb21-66" tabindex="-1"></a>    ]</span>
<span id="cb21-67"><a href="#cb21-67" tabindex="-1"></a>  },</span>
<span id="cb21-68"><a href="#cb21-68" tabindex="-1"></a>  <span class="st">"Contactmomenten"</span><span class="sc">:</span> [</span>
<span id="cb21-69"><a href="#cb21-69" tabindex="-1"></a>    {</span>
<span id="cb21-70"><a href="#cb21-70" tabindex="-1"></a>      <span class="st">"Tijdstip"</span><span class="sc">:</span> <span class="st">"20181011"</span>,</span>
<span id="cb21-71"><a href="#cb21-71" tabindex="-1"></a>      <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-72"><a href="#cb21-72" tabindex="-1"></a>        {</span>
<span id="cb21-73"><a href="#cb21-73" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">245</span>,</span>
<span id="cb21-74"><a href="#cb21-74" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"990"</span></span>
<span id="cb21-75"><a href="#cb21-75" tabindex="-1"></a>        }</span>
<span id="cb21-76"><a href="#cb21-76" tabindex="-1"></a>      ]</span>
<span id="cb21-77"><a href="#cb21-77" tabindex="-1"></a>    },</span>
<span id="cb21-78"><a href="#cb21-78" tabindex="-1"></a>    {</span>
<span id="cb21-79"><a href="#cb21-79" tabindex="-1"></a>      <span class="st">"Tijdstip"</span><span class="sc">:</span> <span class="st">"20181111"</span>,</span>
<span id="cb21-80"><a href="#cb21-80" tabindex="-1"></a>      <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-81"><a href="#cb21-81" tabindex="-1"></a>        {</span>
<span id="cb21-82"><a href="#cb21-82" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">235</span>,</span>
<span id="cb21-83"><a href="#cb21-83" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"380"</span></span>
<span id="cb21-84"><a href="#cb21-84" tabindex="-1"></a>        },</span>
<span id="cb21-85"><a href="#cb21-85" tabindex="-1"></a>        {</span>
<span id="cb21-86"><a href="#cb21-86" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">245</span>,</span>
<span id="cb21-87"><a href="#cb21-87" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"1250"</span></span>
<span id="cb21-88"><a href="#cb21-88" tabindex="-1"></a>        },</span>
<span id="cb21-89"><a href="#cb21-89" tabindex="-1"></a>        {</span>
<span id="cb21-90"><a href="#cb21-90" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">252</span>,</span>
<span id="cb21-91"><a href="#cb21-91" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"270"</span></span>
<span id="cb21-92"><a href="#cb21-92" tabindex="-1"></a>        }</span>
<span id="cb21-93"><a href="#cb21-93" tabindex="-1"></a>      ]</span>
<span id="cb21-94"><a href="#cb21-94" tabindex="-1"></a>    },</span>
<span id="cb21-95"><a href="#cb21-95" tabindex="-1"></a>    {</span>
<span id="cb21-96"><a href="#cb21-96" tabindex="-1"></a>      <span class="st">"Tijdstip"</span><span class="sc">:</span> <span class="st">"20181211"</span>,</span>
<span id="cb21-97"><a href="#cb21-97" tabindex="-1"></a>      <span class="st">"Elementen"</span><span class="sc">:</span> [</span>
<span id="cb21-98"><a href="#cb21-98" tabindex="-1"></a>        {</span>
<span id="cb21-99"><a href="#cb21-99" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">235</span>,</span>
<span id="cb21-100"><a href="#cb21-100" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"435"</span></span>
<span id="cb21-101"><a href="#cb21-101" tabindex="-1"></a>        },</span>
<span id="cb21-102"><a href="#cb21-102" tabindex="-1"></a>        {</span>
<span id="cb21-103"><a href="#cb21-103" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">245</span>,</span>
<span id="cb21-104"><a href="#cb21-104" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"2100"</span></span>
<span id="cb21-105"><a href="#cb21-105" tabindex="-1"></a>        },</span>
<span id="cb21-106"><a href="#cb21-106" tabindex="-1"></a>        {</span>
<span id="cb21-107"><a href="#cb21-107" tabindex="-1"></a>          <span class="st">"Bdsnummer"</span><span class="sc">:</span> <span class="dv">252</span>,</span>
<span id="cb21-108"><a href="#cb21-108" tabindex="-1"></a>          <span class="st">"Waarde"</span><span class="sc">:</span> <span class="st">"305"</span></span>
<span id="cb21-109"><a href="#cb21-109" tabindex="-1"></a>        }</span>
<span id="cb21-110"><a href="#cb21-110" tabindex="-1"></a>      ]</span>
<span id="cb21-111"><a href="#cb21-111" tabindex="-1"></a>    }</span>
<span id="cb21-112"><a href="#cb21-112" tabindex="-1"></a>  ]</span>
<span id="cb21-113"><a href="#cb21-113" tabindex="-1"></a>}</span></code></pre></div>
<p>There are four ways to upload the data to JAMES:</p>
<ol style="list-style-type: decimal">
<li>Upload the file <code>"maria.json"</code>;</li>
<li>Convert to a string and upload;</li>
<li>Convert to a JSON object and upload;</li>
<li>Read the JSON file from a URL.</li>
</ol>
<p>The <code>/data/upload</code> API end point handles these cases as
follows:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload as file</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="st">"maria.json"</span></span>
<span><span class="va">r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">fn</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://httr.r-lib.org/reference/status_code.html" class="external-link">status_code</a></span><span class="op">(</span><span class="va">r1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 201</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload as string</span></span>
<span><span class="va">js</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/read_json_js.html" class="external-link">read_json_js</a></span><span class="op">(</span><span class="va">fn</span><span class="op">)</span></span>
<span><span class="va">r2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">js</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://httr.r-lib.org/reference/status_code.html" class="external-link">status_code</a></span><span class="op">(</span><span class="va">r2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 201</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload as JSON object</span></span>
<span><span class="va">jo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/read_json_js.html" class="external-link">read_json_jo</a></span><span class="op">(</span><span class="va">fn</span><span class="op">)</span></span>
<span><span class="va">r3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">jo</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://httr.r-lib.org/reference/status_code.html" class="external-link">status_code</a></span><span class="op">(</span><span class="va">r3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 201</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload as URL</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">host</span>, <span class="st">"ocpu/library/bdsreader/examples/maria.json"</span><span class="op">)</span></span>
<span><span class="va">r4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">url</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://httr.r-lib.org/reference/status_code.html" class="external-link">status_code</a></span><span class="op">(</span><span class="va">r4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 201</span></span></code></pre>
<p>If the status is 201, the data are uploaded to JAMES and processed.
For example, the processed data after file upload is available as an R
data frame under element <code>r1$parsed</code>.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r1</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## $psn</span></span>
<span><span class="co">##   id  name        dob       dobm       dobf  src    sex gad ga smo  bw hgtm</span></span>
<span><span class="co">## 1 -1 Maria 2018-10-11 1990-12-02 1995-07-04 1234 female 189 27   1 990  167</span></span>
<span><span class="co">##   hgtf</span></span>
<span><span class="co">## 1  190</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $xyz</span></span>
<span><span class="co">##       age xname yname zname                  zref       x       y      z</span></span>
<span><span class="co">## 1  0.0849   age   hgt hgt_z nl_2012_hgt_female_27  0.0849 38.0000 -0.158</span></span>
<span><span class="co">## 2  0.1670   age   hgt hgt_z nl_2012_hgt_female_27  0.1670 43.5000  0.047</span></span>
<span><span class="co">## 3  0.0000   age   wgt wgt_z nl_2012_wgt_female_27  0.0000  0.9900  0.190</span></span>
<span><span class="co">## 4  0.0849   age   wgt wgt_z nl_2012_wgt_female_27  0.0849  1.2500 -0.203</span></span>
<span><span class="co">## 5  0.1670   age   wgt wgt_z nl_2012_wgt_female_27  0.1670  2.1000  0.015</span></span>
<span><span class="co">## 6  0.0849   age   hdc hdc_z nl_2012_hdc_female_27  0.0849 27.0000 -0.709</span></span>
<span><span class="co">## 7  0.1670   age   hdc hdc_z nl_2012_hdc_female_27  0.1670 30.5000 -0.913</span></span>
<span><span class="co">## 8  0.0000   age   bmi bmi_z nl_1997_bmi_female_nl  0.0000      NA     NA</span></span>
<span><span class="co">## 9  0.0849   age   bmi bmi_z nl_1997_bmi_female_nl  0.0849  8.6565 -5.719</span></span>
<span><span class="co">## 10 0.1670   age   bmi bmi_z nl_1997_bmi_female_nl  0.1670 11.0979 -3.767</span></span>
<span><span class="co">## 11 0.0000   hgt   wfh wfh_z   nl_2012_wfh_female_      NA  0.9900     NA</span></span>
<span><span class="co">## 12 0.0849   hgt   wfh wfh_z   nl_2012_wfh_female_ 38.0000  1.2500 -0.001</span></span>
<span><span class="co">## 13 0.1670   hgt   wfh wfh_z   nl_2012_wfh_female_ 43.5000  2.1000  0.326</span></span></code></pre>
<p>The session details, including the uploaded data, will remain
available for a limited time. After 30 minutes the session is wiped. The
session key is your entrance to the resource within the 30-minute
window. The key can be retrieved as <code>r1$session</code>. For
example, to see the result of the file upload session in markdown
use</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">session</span> <span class="op">&lt;-</span> <span class="va">r1</span><span class="op">$</span><span class="va">session</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "x0244cc8a012755"</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_get.html" class="external-link">james_get</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">session</span>, <span class="st">"md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">resp</span><span class="op">$</span><span class="va">parsed</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   * **psn**:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     -------------------------------------------------------------------------------</span></span>
<span><span class="co">##      id   name       dob          dobm         dobf      src    dnr    sex     gad</span></span>
<span><span class="co">##     ---- ------- ------------ ------------ ------------ ------ ----- -------- -----</span></span>
<span><span class="co">##      -1   Maria   2018-10-11   1990-12-02   1995-07-04   1234   NA    female   189</span></span>
<span><span class="co">##     -------------------------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Table: Table continues below</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     -----------------------------------------------------------------------------------</span></span>
<span><span class="co">##      ga   smo   bw    hgtm   hgtf   agem   etn   pc4   blbf   blbm   eduf   edum   par</span></span>
<span><span class="co">##     ---- ----- ----- ------ ------ ------ ----- ----- ------ ------ ------ ------ -----</span></span>
<span><span class="co">##      27    1    990   167    190     NA    NA    NA     NA     NA     NA     NA    NA</span></span>
<span><span class="co">##     -----------------------------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   * **xyz**:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     ----------------------------------------------------------------------------------</span></span>
<span><span class="co">##       age     xname   yname   zname           zref              x        y       z</span></span>
<span><span class="co">##     -------- ------- ------- ------- ----------------------- -------- ------- --------</span></span>
<span><span class="co">##      0.0849    age     hgt    hgt_z   nl_2012_hgt_female_27   0.0849    38     -0.158</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.167     age     hgt    hgt_z   nl_2012_hgt_female_27   0.167    43.5    0.047</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##        0       age     wgt    wgt_z   nl_2012_wgt_female_27     0      0.99     0.19</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.0849    age     wgt    wgt_z   nl_2012_wgt_female_27   0.0849   1.25    -0.203</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.167     age     wgt    wgt_z   nl_2012_wgt_female_27   0.167     2.1    0.015</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.0849    age     hdc    hdc_z   nl_2012_hdc_female_27   0.0849    27     -0.709</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.167     age     hdc    hdc_z   nl_2012_hdc_female_27   0.167    30.5    -0.913</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##        0       age     bmi    bmi_z   nl_1997_bmi_female_nl     0       NA       NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.0849    age     bmi    bmi_z   nl_1997_bmi_female_nl   0.0849   8.657   -5.719</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.167     age     bmi    bmi_z   nl_1997_bmi_female_nl   0.167    11.1    -3.767</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##        0       hgt     wfh    wfh_z    nl_2012_wfh_female_      NA     0.99      NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.0849    hgt     wfh    wfh_z    nl_2012_wfh_female_      38     1.25    -0.001</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##      0.167     hgt     wfh    wfh_z    nl_2012_wfh_female_     43.5     2.1    0.326</span></span>
<span><span class="co">##     ----------------------------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## &lt;!-- end of list --&gt;</span></span></code></pre>
<p><strong>Troubleshooting data upload</strong>: JAMES executes checks
on the conversion and ranges of the data. To gain efficiency, it does
not automatically validate the input data against the specified JSON
schema. JAMES writes diagnostic, sometimes cryptic, messages to the
directory <code>{session}/messages</code> if it finds a problem. The
user can rerun the data upload with two additional flags that request
extra diagnostic output.</p>
<p>Example: Suppose we compromise the data by removing the required
<code>"clientDetails"</code> and the optional
<code>"nestedDetails"</code> sections. The mangled input data look
like:</p>
<pre><code>{"Format":"3.0","organisationCode":12345,"reference":"Maria's mangled data","clientMeasurements":[{"bdsNumber":235,"values":[{"date":"20181111","value":380},{"date":"20181211","value":435}]}]}</code></pre>
<p>Everything appears normal if we read this data by the default:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="st">"maria-mangled.json"</span></span>
<span><span class="va">r5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">fn</span><span class="op">)</span></span>
<span><span class="va">r5</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## $psn</span></span>
<span><span class="co">##   id                 name   src</span></span>
<span><span class="co">## 1 -1 Maria's mangled data 12345</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $xyz</span></span>
<span><span class="co">##   xname yname zname            zref  y</span></span>
<span><span class="co">## 1   age   hgt hgt_z nl_1997_hgt__nl 38</span></span></code></pre>
<p>If we upload with the additional <code>validate = TRUE</code> flag,
JAMES runs the validation of the uploaded JSON against the JSON
schema:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">fn</span>, validate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">mess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_get.html" class="external-link">james_get</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">r6</span><span class="op">$</span><span class="va">session</span>, <span class="st">"messages"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">mess</span><span class="op">$</span><span class="va">parsed</span><span class="op">)</span></span></code></pre></div>
<p>which indicates that the required JSON element
<code>"clientDetails"</code> is missing. We inactivated the code chunk
above because it may occasionally give the error “JAMES API request
failed [400] child process has died In call: tryCatch()” when
<code>validate = TRUE</code>. This is a known, not yet resolved
issue.</p>
<p>We may drill down further by setting the
<code>intermediate = TRUE</code> flag. This writes five JSON files that
document the data flow into <code>{session}/files/{*}.json</code>.</p>
<p>For example, we can ask for the input data as read by JAMES by</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"data/upload/json"</span>, txt <span class="op">=</span> <span class="va">fn</span>, validate <span class="op">=</span> <span class="cn">TRUE</span>, intermediate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">host</span>, <span class="va">r7</span><span class="op">$</span><span class="va">session</span>, <span class="st">"files/input.json"</span><span class="op">)</span></span>
<span><span class="va">url</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "http://localhost:8080/x028b558c84d2bf/files/input.json"</span></span></code></pre>
<p>With <code>browseURL(url)</code> we may view the file contents in the
browser. The <code>files</code> directory contains five JSON files:</p>
<ol style="list-style-type: decimal">
<li>
<code>files/input.json</code>: the JSON input data;</li>
<li>
<code>files/bds.json</code>: a data frame with info per BDS
number;</li>
<li>
<code>files/ddi.json</code>: result of recoding BDS into GSED item
names;</li>
<li>
<code>files/psn.json</code>: known fixed child covariates;</li>
<li>
<code>files/xy.json</code>: time-varying variables.</li>
</ol>
<p>Inspection of these files may uncover any problems with JAMES’s
understanding of the data. If needed, study the underlying R source code
at <a href="https://raw.githubusercontent.com/growthcharts/bdsreader/master/R/read_bds.R" class="external-link uri">https://raw.githubusercontent.com/growthcharts/bdsreader/master/R/read_bds.R</a>.</p>
<p>The <code>validate</code> and <code>intermediate</code> flag are
useful for development and debugging. In production, we recommend
leaving them at their default value (<code>FALSE</code>) and monitor any
messages written to <code>{session}/messages</code>.</p>
</div>
<div class="tab-pane" id="bash-1" role="tabpanel" aria-labelledby="bash-1-tab">

<p>We start from child data in the file <code>maria.json</code> that we
wish to process with JAMES. For testing purposes, you may change the
values, but keep the general structure intact. The following
<code>curl</code> commands uploads the file and processes the data.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sF</span> <span class="st">'txt=@maria.json'</span> <span class="at">-D</span> headers <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/data/upload/json <span class="op">&gt;</span> content</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="fu">head</span> content</span></code></pre></div>
<pre><code><span><span class="co">## {</span></span>
<span><span class="co">##   "psn": [</span></span>
<span><span class="co">##     {</span></span>
<span><span class="co">##       "id": -1,</span></span>
<span><span class="co">##       "name": "Maria",</span></span>
<span><span class="co">##       "dob": "2018-10-11",</span></span>
<span><span class="co">##       "dobm": "1990-12-02",</span></span>
<span><span class="co">##       "dobf": "1995-07-04",</span></span>
<span><span class="co">##       "src": "1234",</span></span>
<span><span class="co">##       "sex": "female",</span></span></code></pre>
<p>Alternatively, we may read the file into a JSON string, and upload as
follows:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="va">JS</span><span class="op">=</span><span class="va">$(</span><span class="ex">jq</span> <span class="st">'.'</span> maria.json <span class="kw">|</span> <span class="ex">jq</span> <span class="at">-sR</span> <span class="st">'.'</span><span class="va">)</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/data/upload/json <span class="at">-d</span> <span class="st">"txt=</span><span class="va">$JS</span><span class="st">"</span> <span class="op">&gt;</span> content</span></code></pre></div>
<p>Finally, if the data are located at a URL, use</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="va">URL</span><span class="op">=</span><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/ocpu/library/bdsreader/examples/maria.json</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span>/data/upload/json <span class="at">-d</span> <span class="st">"txt='</span><span class="va">$URL</span><span class="st">'"</span> <span class="op">&gt;</span> content</span></code></pre></div>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-3"></h4>
</div>
</div>
<div class="section level3">
<h3 id="chartsdraw-draw-child-data-on-growth-chart">
<strong><code>/charts/draw</code></strong>: Draw child data on
growth chart<a class="anchor" aria-label="anchor" href="#chartsdraw-draw-child-data-on-growth-chart"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-4"></h4>


<ul class="nav nav-tabs" id="section-4" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-2" id="r-2-tab" type="button" role="tab" aria-controls="r-2" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-2" id="bash-2-tab" type="button" role="tab" aria-controls="bash-2" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-2" role="tabpanel" aria-labelledby="r-2-tab">

<p>Maria is a preterm born at 27 weeks of gestational age. We already
uploaded her data. We may now plot her growth data on the A4 chart for
preterms as follows:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, </span>
<span>                 path <span class="op">=</span> <span class="st">"/charts/draw/svglite"</span>, </span>
<span>                 session <span class="op">=</span> <span class="va">r1</span><span class="op">$</span><span class="va">session</span>,</span>
<span>                 chartcode <span class="op">=</span> <span class="st">"PMAAN27"</span>, selector <span class="op">=</span> <span class="st">"chartcode"</span>,</span>
<span>                 query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">29.7</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">21</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">r5</span><span class="op">$</span><span class="va">parsed</span>, con <span class="op">=</span> <span class="va">filename_chart1</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/chart1.svg" alt="Maria's growth plotted on preterm chart, 0-15 months"><p class="caption">
Maria’s growth plotted on preterm chart, 0-15 months
</p>
</div>
<p>Alternatively, we may upload data for a new child Laura and plot the
data in one step:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/bds_v3.0/smocc/Laura_S.json"</span>, package <span class="op">=</span> <span class="st">"jamesdemodata"</span><span class="op">)</span></span>
<span><span class="va">r6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>,</span>
<span>                 path <span class="op">=</span> <span class="st">"/charts/draw/svglite"</span>, txt <span class="op">=</span> <span class="va">fn</span>, </span>
<span>                 chartcode <span class="op">=</span> <span class="st">"NMBA"</span>, selector <span class="op">=</span> <span class="st">"chartcode"</span>,</span>
<span>                 query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">29.7</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">21</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">r6</span><span class="op">$</span><span class="va">parsed</span>, con <span class="op">=</span> <span class="va">filename_chart2</span><span class="op">)</span></span></code></pre></div>
<p>For A4 sized charts, we recommend to generate the plot with query
arguments <code>list(height = 29.7/2.54, width = 21/2.54)</code>, as
illustrated above. If you want to change the chart’s size in your HTML,
use the <code>out.width</code> knitr chunk option, e.g. set
<code>out.width="500px"</code>. This gives the following output.</p>
<div class="figure" style="text-align: center">
<img src="reference/figures/chart2.svg" alt="Laura's growth plotted on chart for Dutch girls, 0-4 years" width="500px"><p class="caption">
Laura’s growth plotted on chart for Dutch girls, 0-4 years
</p>
</div>
<p>JAMES features a built-in prediction module based on curve matching.
Suppose we want to predict Laura’s height at the 3y9m when Laura is 2
years old. The following chart plots 25 matches to Laura as grey curves.
The variation between the grey curves at age 3y9m indicates the likely
variation in the prediction. The blue line indicates Laura’s predicted
height at age 3y9m.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, </span>
<span>                 path <span class="op">=</span> <span class="st">"/charts/draw/svglite"</span>, txt <span class="op">=</span> <span class="va">fn</span>, </span>
<span>                 chartcode <span class="op">=</span> <span class="st">"NMBH"</span>, dnr <span class="op">=</span> <span class="st">"2-4"</span>,</span>
<span>                 lo <span class="op">=</span> <span class="fl">2.0</span>, hi <span class="op">=</span> <span class="fl">3.75</span>, nmatch <span class="op">=</span> <span class="fl">25</span>,</span>
<span>                 show_future <span class="op">=</span> <span class="cn">TRUE</span>, show_realized <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                 query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fl">18</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">18</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">r7</span><span class="op">$</span><span class="va">parsed</span>, con <span class="op">=</span> <span class="va">filename_chart3</span><span class="op">)</span></span></code></pre></div>
<p>For square charts, use query arguments
<code>list(height = 18/2.54, width = 18/2.54)</code> to generate the
plot. In order to get the same age units as the previous chart,
calculate <code>out.width</code> as
<code>500/21*18 = "429px"</code>.</p>
<div class="figure" style="text-align: center">
<img src="reference/figures/chart3.svg" alt="Predict Laura's future height at the age of 3y9m." width="429px"><p class="caption">
Predict Laura’s future height at the age of 3y9m.
</p>
</div>
</div>
<div class="tab-pane" id="bash-2" role="tabpanel" aria-labelledby="bash-2-tab">

<p>Upload <code>maria.json</code> and draw the height data on the
default chart to produce an SVG file. Specify the proper
<code>width</code> and <code>height</code> query parameters.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/charts/draw/svglite?width=7.09&amp;height=7.09'</span> <span class="dt">\</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>-H <span class="st">'accept: image/*'</span> <span class="dt">\</span></span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a>-F <span class="st">'txt=@maria.json;type=application/json'</span> <span class="op">&gt;</span> maria1.svg</span></code></pre></div>
<p>We need to set <code>chartcode</code> and <code>selector</code>
parameters to choose a different chart.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/charts/draw/svglite?width=8.27&amp;height=11.69'</span> <span class="dt">\</span></span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a>-H <span class="st">'accept: image/*'</span> <span class="dt">\</span></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a>-F <span class="st">"chartcode='PMAAN27'"</span> <span class="dt">\</span></span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a>-F <span class="st">"selector='chartcode'"</span> <span class="dt">\</span></span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a>-F <span class="st">'txt=@maria.json;type=application/json'</span> <span class="op">&gt;</span> maria2.svg</span></code></pre></div>
<p>An alternative is to read the data from a URL, and use the
<code>application/json</code> protocol to specify parameters.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/charts/draw/svglite?width=8.27&amp;height=11.69'</span> <span class="dt">\</span></span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a>-H <span class="st">'accept: image/*'</span> <span class="dt">\</span></span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a>-H <span class="st">'Content-Type: application/json'</span> <span class="dt">\</span></span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a>-d <span class="st">'{</span></span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a><span class="st">"txt": "'</span><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/ocpu/library/jamesdemodata/extdata/bds_v3.0/smocc/Laura_S.json",</span></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a><span class="st">"chartcode" : "NMBA", </span></span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a><span class="st">"selector" : "chartcode"}'</span> <span class="op">&gt;</span> laura.svg</span></code></pre></div>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-5"></h4>
</div>
</div>
<div class="section level3">
<h3 id="chartslist-list-available-growth-charts">
<strong><code>/charts/list</code></strong>: List available growth
charts<a class="anchor" aria-label="anchor" href="#chartslist-list-available-growth-charts"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-6"></h4>


<ul class="nav nav-tabs" id="section-6" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-3" id="r-3-tab" type="button" role="tab" aria-controls="r-3" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-3" id="bash-3-tab" type="button" role="tab" aria-controls="bash-3" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-3" role="tabpanel" aria-labelledby="r-3-tab">

<p>JAMES contains a wide variety of built-in growth charts. Each chart
has a unique <code>chartcode</code>. A typical chart code looks like
<code>NJAA</code>. We obtain the full list of chart codes as</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"charts/list/json"</span><span class="op">)</span></span>
<span><span class="va">charts</span> <span class="op">&lt;-</span> <span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<p>The <code>charts</code> object is a data frame with 478 rows (charts)
and the following variables:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">charts</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "chartgrp"   "chartcode"  "population" "sex"        "design"    </span></span>
<span><span class="co">## [6] "side"       "language"   "week"</span></span></code></pre>
<p>JAMES contains charts for various child populations. There are charts
for Down syndrome (DS), Hindustan (HS), Moroccan (MA), Dutch (NL)),
preterm (PT) and Turkish (TU) children living in the Netherlands and the
WHO Growth Standards (WHOblue, WHOpink). These charts contain references
for height (hgt), weight (wgt), head circumference (hdc),
weight-for-height (wfh), body mass index (bmi) and D-score (dsc), as
well as combined charts with multiple references on A4 format (front,
back, -hdc).</p>
<p>The most important index variables are <code>population</code> and
<code>side</code>:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">charts</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">population</span>, <span class="va">side</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           side</span></span>
<span><span class="co">## population -hdc back bmi dsc front hdc hgt wfh wgt</span></span>
<span><span class="co">##    DS         0    6   2   0     6   6   6   4   2</span></span>
<span><span class="co">##    HS         4    2   2   0     6   2   6   4   2</span></span>
<span><span class="co">##    MA         0    6   2   0     6   6   6   4   2</span></span>
<span><span class="co">##    NL         2    8   2   4     8   8   8   4   4</span></span>
<span><span class="co">##    PT         0   24   0  48    48  24  48   0  48</span></span>
<span><span class="co">##    TU         0    6   2   0     6   6   6   4   2</span></span>
<span><span class="co">##    WHOblue    0    0   0  26     2   1   2   1   1</span></span>
<span><span class="co">##    WHOpink    0    0   0  26     2   1   2   1   1</span></span></code></pre>
<p>The URL <code>{host}/site</code> (see below) displays the currently
active chart code as a field in the left sidebar.</p>
</div>
<div class="tab-pane" id="bash-3" role="tabpanel" aria-labelledby="bash-3-tab">

<p>Restrict the listing to the WHO references:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/charts/list/json'</span> <span class="dt">\</span></span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a>-H <span class="st">'Content-Type: application/json'</span> <span class="dt">\</span></span>
<span id="cb57-5"><a href="#cb57-5" tabindex="-1"></a>-d <span class="st">'{</span></span>
<span id="cb57-6"><a href="#cb57-6" tabindex="-1"></a><span class="st">"chartgrp": "who"</span></span>
<span id="cb57-7"><a href="#cb57-7" tabindex="-1"></a><span class="st">}'</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-7"></h4>
</div>
</div>
<div class="section level3">
<h3 id="chartsvalidate-validate-chart-codes">
<strong><code>/charts/validate</code></strong>: Validate chart
codes<a class="anchor" aria-label="anchor" href="#chartsvalidate-validate-chart-codes"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-8"></h4>


<ul class="nav nav-tabs" id="section-8" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-4" id="r-4-tab" type="button" role="tab" aria-controls="r-4" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-4" id="bash-4-tab" type="button" role="tab" aria-controls="bash-4" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-4" role="tabpanel" aria-labelledby="r-4-tab">

<p>The <code>/charts/validate</code> end point attempt to find one or
more user-specified chart codes. For example, the following cocde checkc
five chart codes:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, </span>
<span>                path <span class="op">=</span> <span class="st">"charts/validate/json"</span>, </span>
<span>                chartcode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NMAW"</span>, <span class="st">"NJAb"</span>, <span class="st">"PJAAN23"</span>, <span class="st">"PJAAN25"</span>, <span class="st">"dummy"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  TRUE FALSE FALSE  TRUE FALSE</span></span></code></pre>
</div>
<div class="tab-pane" id="bash-4" role="tabpanel" aria-labelledby="bash-4-tab">

<p>Check five chart codes:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/charts/validate/json'</span> <span class="dt">\</span></span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb60-4"><a href="#cb60-4" tabindex="-1"></a>-H <span class="st">'Content-Type: application/json'</span> <span class="dt">\</span></span>
<span id="cb60-5"><a href="#cb60-5" tabindex="-1"></a>-d <span class="st">'{</span></span>
<span id="cb60-6"><a href="#cb60-6" tabindex="-1"></a><span class="st">"chartcode": [</span></span>
<span id="cb60-7"><a href="#cb60-7" tabindex="-1"></a><span class="st">"NMAW",</span></span>
<span id="cb60-8"><a href="#cb60-8" tabindex="-1"></a><span class="st">"NJAB",</span></span>
<span id="cb60-9"><a href="#cb60-9" tabindex="-1"></a><span class="st">"PJAAN23",</span></span>
<span id="cb60-10"><a href="#cb60-10" tabindex="-1"></a><span class="st">"PJAAN25", </span></span>
<span id="cb60-11"><a href="#cb60-11" tabindex="-1"></a><span class="st">"dummy"</span></span>
<span id="cb60-12"><a href="#cb60-12" tabindex="-1"></a><span class="st">]</span></span>
<span id="cb60-13"><a href="#cb60-13" tabindex="-1"></a><span class="st">}'</span></span></code></pre></div>
<pre><code><span><span class="co">## [true, true, false, true, false]</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="screenerslist-list-available-growth-screeners">
<strong><code>/screeners/list</code></strong>: List available growth
screeners<a class="anchor" aria-label="anchor" href="#screenerslist-list-available-growth-screeners"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-9"></h4>


<ul class="nav nav-tabs" id="section-9" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-5" id="r-5-tab" type="button" role="tab" aria-controls="r-5" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-5" id="bash-5-tab" type="button" role="tab" aria-controls="bash-5" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-5" role="tabpanel" aria-labelledby="r-5-tab">

<p>JAMES implements several screening algorithms. The
<code>/screeners/list</code> end point provides detailed information on
each of these.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"/screeners/list/json"</span>, </span>
<span>                session <span class="op">=</span> <span class="va">r1</span><span class="op">$</span><span class="va">session</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Versie"                "yname"                 "Categorie"            </span></span>
<span><span class="co">## [4] "CategorieOmschrijving" "JGZRichtlijn"          "Code"                 </span></span>
<span><span class="co">## [7] "CodeOmschrijving"</span></span></code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">yname</span>, <span class="va">Categorie</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      Categorie</span></span>
<span><span class="co">## yname 1000 2000 3000</span></span>
<span><span class="co">##   hdc    0    0   17</span></span>
<span><span class="co">##   hgt   45    0    0</span></span>
<span><span class="co">##   wgt    0   26    0</span></span></code></pre>
<p>There are currently 88 different codes. Codes ending in
<code>31</code>, e.g., <code>1031</code> or <code>2031</code> indicate
normal growth, whereas code ending in <code>41</code>, <code>42</code>
and so on, signal that - according to the guidelines - the child should
be referred for further investigation.</p>
</div>
<div class="tab-pane" id="bash-5" role="tabpanel" aria-labelledby="bash-5-tab">

<p>We get the details for the guidelines for head circumference as</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/screeners/list/json'</span> <span class="dt">\</span></span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a>-H <span class="st">'Content-Type: application/json'</span> <span class="dt">\</span></span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a>-d <span class="st">'{"ynames": "hdc"}'</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-10"></h4>
</div>
</div>
<div class="section level3">
<h3 id="screenersapply-apply-growth-screeners-to-child-data">
<strong><code>/screeners/apply</code></strong>: Apply growth
screeners to child data<a class="anchor" aria-label="anchor" href="#screenersapply-apply-growth-screeners-to-child-data"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-11"></h4>


<ul class="nav nav-tabs" id="section-11" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-6" id="r-6-tab" type="button" role="tab" aria-controls="r-6" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-6" id="bash-6-tab" type="button" role="tab" aria-controls="bash-6" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-6" role="tabpanel" aria-labelledby="r-6-tab">

<p>The <code>/screeners/apply</code> end point applies standard
screeners to the child data. Invoke the screeners by</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"/screeners/apply/json"</span>, </span>
<span>                session <span class="op">=</span> <span class="va">r1</span><span class="op">$</span><span class="va">session</span><span class="op">)</span></span>
<span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">##   Categorie CategorieOmschrijving Code</span></span>
<span><span class="co">## 1      1000                Lengte 1031</span></span>
<span><span class="co">## 2      2000               Gewicht 2031</span></span>
<span><span class="co">## 3      3000           Hoofdomtrek 3031</span></span>
<span><span class="co">##                                                                                                                CodeOmschrijving</span></span>
<span><span class="co">## 1 Het advies volgens de JGZ-richtlijn lengtegroei is als volgt: In principe geen verwijzing nodig, naar eigen inzicht handelen.</span></span>
<span><span class="co">## 2 Het advies volgens de JGZ-richtlijn overgewicht is als volgt: In principe geen verwijzing nodig, naar eigen inzicht handelen.</span></span>
<span><span class="co">## 3                                                               In principe geen verwijzing nodig, naar eigen inzicht handelen.</span></span>
<span><span class="co">##   Versie Leeftijd</span></span>
<span><span class="co">## 1 1.23.0    0.167</span></span>
<span><span class="co">## 2 1.23.0    0.167</span></span>
<span><span class="co">## 3 1.23.0    0.167</span></span></code></pre>
<p>The procedure</p>
<ol style="list-style-type: decimal">
<li>calculates, per outcome, the intervals between the most recent
measurement and all earlier measurements;</li>
<li>tests whether any of those intervals produces a signal according the
screening algorithm;</li>
<li>reports the most recent non-standard signal that indicate abnormal
growth.</li>
</ol>
<p>In the example, all returned codes (1031, 2031, 3031) end in “31”,
which signals normal growth. The full table of return codes and messages
can be obtained by the <code>/screeners/list</code> end point (see
above).</p>
<p>There are several possibilities to visualise and integrate multiple
evaluations per curve performed in step 2 into one advice. Before May
2023, JAMES returned an advice for each combination of time point and
outcome, but that table presented a lot of output that was difficult to
act one. Since May 2023, JAMES reports only one signal per curve.</p>
</div>
<div class="tab-pane" id="bash-6" role="tabpanel" aria-labelledby="bash-6-tab">

<div class="sourceCode" id="cb69"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/screeners/apply/json'</span> <span class="dt">\</span></span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a>-H <span class="st">'Content-Type: multipart/form-data'</span> <span class="dt">\</span></span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a>-F <span class="st">'txt=@maria.json;type=application/json'</span></span></code></pre></div>
<pre><code><span><span class="co">## [</span></span>
<span><span class="co">##   {</span></span>
<span><span class="co">##     "Categorie": 1000,</span></span>
<span><span class="co">##     "CategorieOmschrijving": "Lengte",</span></span>
<span><span class="co">##     "Code": 1031,</span></span>
<span><span class="co">##     "CodeOmschrijving": "Het advies volgens de JGZ-richtlijn lengtegroei is als volgt: In principe geen verwijzing nodig, naar eigen inzicht handelen.",</span></span>
<span><span class="co">##     "Versie": "1.23.0",</span></span>
<span><span class="co">##     "Leeftijd": 0.167</span></span>
<span><span class="co">##   },</span></span>
<span><span class="co">##   {</span></span>
<span><span class="co">##     "Categorie": 2000,</span></span>
<span><span class="co">##     "CategorieOmschrijving": "Gewicht",</span></span>
<span><span class="co">##     "Code": 2031,</span></span>
<span><span class="co">##     "CodeOmschrijving": "Het advies volgens de JGZ-richtlijn overgewicht is als volgt: In principe geen verwijzing nodig, naar eigen inzicht handelen.",</span></span>
<span><span class="co">##     "Versie": "1.23.0",</span></span>
<span><span class="co">##     "Leeftijd": 0.167</span></span>
<span><span class="co">##   },</span></span>
<span><span class="co">##   {</span></span>
<span><span class="co">##     "Categorie": 3000,</span></span>
<span><span class="co">##     "CategorieOmschrijving": "Hoofdomtrek",</span></span>
<span><span class="co">##     "Code": 3031,</span></span>
<span><span class="co">##     "CodeOmschrijving": "In principe geen verwijzing nodig, naar eigen inzicht handelen.",</span></span>
<span><span class="co">##     "Versie": "1.23.0",</span></span>
<span><span class="co">##     "Leeftijd": 0.167</span></span>
<span><span class="co">##   }</span></span>
<span><span class="co">## ]</span></span></code></pre>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-12"></h4>
</div>
</div>
<div class="section level3">
<h3 id="site-request-an-empty-site">
<strong><code>/site</code></strong>: Request an empty site<a class="anchor" aria-label="anchor" href="#site-request-an-empty-site"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-13"></h4>


<ul class="nav nav-tabs" id="section-13" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-7" id="r-7-tab" type="button" role="tab" aria-controls="r-7" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-7" id="bash-7-tab" type="button" role="tab" aria-controls="bash-7" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-7" role="tabpanel" aria-labelledby="r-7-tab">

<p>The <code>/site</code> end point provides interactive site containing
all charts, but without child data. This end point is primarily useful
to obtain a quick overview of the available charts.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">host</span>, <span class="st">"site"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="bash-7" role="tabpanel" aria-labelledby="bash-7-tab">

</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-14"></h4>
</div>
</div>
<div class="section level3">
<h3 id="siterequest-request-personalised-site">
<strong><code>/site/request</code></strong>: Request personalised
site<a class="anchor" aria-label="anchor" href="#siterequest-request-personalised-site"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-15"></h4>


<ul class="nav nav-tabs" id="section-15" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-8" id="r-8-tab" type="button" role="tab" aria-controls="r-8" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-8" id="bash-8-tab" type="button" role="tab" aria-controls="bash-8" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-8" role="tabpanel" aria-labelledby="r-8-tab">

<p>The <code>/site/request</code> end point creates an URL to a
personalised, interactive site containing all charts.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"/site/request/json"</span>, </span>
<span>                sitehost <span class="op">=</span> <span class="va">host</span>, txt <span class="op">=</span> <span class="va">js</span><span class="op">)</span></span>
<span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "http://localhost:8080/site?session=x023bdb0828da0a"</span></span></code></pre>
<p>Run the command and paste the generated URL in the address field of
your browser. The starting chart is chosen by JAMES and depends on the
age of the child.</p>
<p>Alteratively, we may start from the <code>session</code> created by
<code>/data/upload</code>:</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"/site/request/json"</span>, </span>
<span>                sitehost <span class="op">=</span> <span class="va">host</span>, session <span class="op">=</span> <span class="va">r1</span><span class="op">$</span><span class="va">session</span><span class="op">)</span></span>
<span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "http://localhost:8080/site?session=x0244cc8a012755"</span></span></code></pre>
<p>Run the command and paste the generated URL in the address field of
your browser. The starting chart is chosen by JAMES and depends on the
age of the child.</p>
<p>-d ‘{“sitehost”: “‘$(cat .host)’”}’</p>
</div>
<div class="tab-pane" id="bash-8" role="tabpanel" aria-labelledby="bash-8-tab">

<div class="sourceCode" id="cb76"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/site/request/json'</span> <span class="dt">\</span></span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb76-4"><a href="#cb76-4" tabindex="-1"></a>-H <span class="st">'Content-Type: multipart/form-data'</span> <span class="dt">\</span></span>
<span id="cb76-5"><a href="#cb76-5" tabindex="-1"></a>-F <span class="st">"sitehost='</span><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'"</span> <span class="dt">\</span></span>
<span id="cb76-6"><a href="#cb76-6" tabindex="-1"></a>-F <span class="st">'txt=@maria.json;type=application/json'</span></span></code></pre></div>
<pre><code><span><span class="co">## ["http://localhost:8080/site?session=x0e127120d99423"]</span></span></code></pre>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-16"></h4>
</div>
</div>
<div class="section level3">
<h3 id="blendrequest-obtain-a-blend-from-multiple-end-points">
<strong><code>/blend/request</code></strong>: Obtain a blend from
multiple end points<a class="anchor" aria-label="anchor" href="#blendrequest-obtain-a-blend-from-multiple-end-points"></a>
</h3>
<div class="section level4 tabset">
<h4 class="tabset" id="section-17"></h4>


<ul class="nav nav-tabs" id="section-17" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#r-9" id="r-9-tab" type="button" role="tab" aria-controls="r-9" aria-selected="true" class="active nav-link"><strong>R</strong></button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#bash-9" id="bash-9-tab" type="button" role="tab" aria-controls="bash-9" aria-selected="false" class="nav-link"><strong>bash</strong></button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="r-9" role="tabpanel" aria-labelledby="r-9-tab">

<p>The <code>/blend/request</code> end point returns the results of
multiple end points, and thus functions as a one-stop shop. However,
currently it does not support graphics output, so use
<code>/{session}/{info}/svglite</code> or
<code>/charts/draw/svglite</code> for the charts.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"bds_v3.0"</span>, <span class="st">"smocc"</span>, <span class="st">"Laura_S.json"</span>,</span>
<span>                 package <span class="op">=</span> <span class="st">"jamesdemodata"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jamesclient/man/james_post.html" class="external-link">james_post</a></span><span class="op">(</span>host <span class="op">=</span> <span class="va">host</span>, path <span class="op">=</span> <span class="st">"/blend/request/json"</span>, </span>
<span>                sitehost <span class="op">=</span> <span class="va">host</span>, txt <span class="op">=</span> <span class="va">fn</span><span class="op">)</span></span>
<span><span class="va">r</span><span class="op">$</span><span class="va">parsed</span></span></code></pre></div>
<pre><code><span><span class="co">## $txt</span></span>
<span><span class="co">## [1] "{\"Format\": \"3.0\",\"organisationCode\": 0,\"reference\": \"Laura S\",\"clientDetails\": [{\"bdsNumber\": 19,\"value\": \"2\"},{\"bdsNumber\": 20,\"value\": \"19890121\"},{\"bdsNumber\": 82,\"value\": 276},{\"bdsNumber\": 91,\"value\": \"2\"},{\"bdsNumber\": 110,\"value\": 2950},{\"bdsNumber\": 238,\"value\": 1640},{\"bdsNumber\": 240,\"value\": 1790}],\"clientMeasurements\": [{\"bdsNumber\": 235,\"values\": [{\"date\": \"19890121\",\"value\": 480},{\"date\": \"19890227\",\"value\": 535},{\"date\": \"19890320\",\"value\": 560},{\"date\": \"19890417\",\"value\": 595},{\"date\": \"19890717\",\"value\": 655},{\"date\": \"19891023\",\"value\": 715},{\"date\": \"19900129\",\"value\": 750},{\"date\": \"19900423\",\"value\": 800},{\"date\": \"19900806\",\"value\": 840},{\"date\": \"19910205\",\"value\": 900}]},{\"bdsNumber\": 245,\"values\": [{\"date\": \"19890121\",\"value\": 2950},{\"date\": \"19890227\",\"value\": 4180},{\"date\": \"19890320\",\"value\": 5000},{\"date\": \"19890417\",\"value\": 5900},{\"date\": \"19890717\",\"value\": 8240},{\"date\": \"19891023\",\"value\": 9650},{\"date\": \"19900129\",\"value\": 10950},{\"date\": \"19900423\",\"value\": 11900},{\"date\": \"19900806\",\"value\": 12800},{\"date\": \"19910205\",\"value\": 13900}]},{\"bdsNumber\": 252,\"values\": [{\"date\": \"19890227\",\"value\": 376},{\"date\": \"19890320\",\"value\": 390},{\"date\": \"19890417\",\"value\": 405},{\"date\": \"19890717\",\"value\": 441},{\"date\": \"19891023\",\"value\": 466},{\"date\": \"19900129\",\"value\": 478},{\"date\": \"19900423\",\"value\": 487},{\"date\": \"19900806\",\"value\": 492},{\"date\": \"19910205\",\"value\": 500}]},{\"bdsNumber\": 879,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 881,\"values\": [{\"date\": \"19890227\",\"value\": \"2\"},{\"date\": \"19890320\",\"value\": \"1\"}]},{\"bdsNumber\": 883,\"values\": [{\"date\": \"19890227\",\"value\": \"2\"},{\"date\": \"19890320\",\"value\": \"1\"}]},{\"bdsNumber\": 884,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"},{\"date\": \"19890417\",\"value\": \"1\"}]},{\"bdsNumber\": 885,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"},{\"date\": \"19890417\",\"value\": \"1\"}]},{\"bdsNumber\": 886,\"values\": [{\"date\": \"19890320\",\"value\": \"2\"},{\"date\": \"19890417\",\"value\": \"2\"},{\"date\": \"19890717\",\"value\": \"3\"}]},{\"bdsNumber\": 887,\"values\": [{\"date\": \"19890417\",\"value\": \"2\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 888,\"values\": [{\"date\": \"19890417\",\"value\": \"2\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 889,\"values\": [{\"date\": \"19890417\",\"value\": \"2\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 890,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"1\"}]},{\"bdsNumber\": 891,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"1\"}]},{\"bdsNumber\": 892,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"3\"}]},{\"bdsNumber\": 893,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"3\"}]},{\"bdsNumber\": 894,\"values\": [{\"date\": \"19891023\",\"value\": \"1\"},{\"date\": \"19900129\",\"value\": \"1\"}]},{\"bdsNumber\": 896,\"values\": [{\"date\": \"19891023\",\"value\": \"1\"},{\"date\": \"19900129\",\"value\": \"1\"}]},{\"bdsNumber\": 897,\"values\": [{\"date\": \"19900129\",\"value\": \"1\"},{\"date\": \"19900423\",\"value\": \"1\"}]},{\"bdsNumber\": 898,\"values\": [{\"date\": \"19900129\",\"value\": \"1\"},{\"date\": \"19900423\",\"value\": \"1\"}]},{\"bdsNumber\": 900,\"values\": [{\"date\": \"19900129\",\"value\": \"3\"},{\"date\": \"19900423\",\"value\": \"3\"}]},{\"bdsNumber\": 902,\"values\": [{\"date\": \"19900423\",\"value\": \"2\"},{\"date\": \"19900806\",\"value\": \"1\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 903,\"values\": [{\"date\": \"19900423\",\"value\": \"2\"},{\"date\": \"19900806\",\"value\": \"2\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 905,\"values\": [{\"date\": \"19900423\",\"value\": \"1\"},{\"date\": \"19900806\",\"value\": \"1\"}]},{\"bdsNumber\": 906,\"values\": [{\"date\": \"19900806\",\"value\": \"2\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 907,\"values\": [{\"date\": \"19900806\",\"value\": \"2\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 909,\"values\": [{\"date\": \"19900806\",\"value\": \"3\"},{\"date\": \"19910205\",\"value\": \"3\"}]},{\"bdsNumber\": 910,\"values\": [{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 912,\"values\": [{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 921,\"values\": [{\"date\": \"19910205\",\"value\": \"3\"}]},{\"bdsNumber\": 927,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 928,\"values\": [{\"date\": \"19890227\",\"value\": \"2\"}]},{\"bdsNumber\": 930,\"values\": [{\"date\": \"19890320\",\"value\": \"3\"},{\"date\": \"19890417\",\"value\": \"3\"}]},{\"bdsNumber\": 932,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"3\"}]},{\"bdsNumber\": 933,\"values\": [{\"date\": \"19891023\",\"value\": \"3\"},{\"date\": \"19900129\",\"value\": \"3\"}]},{\"bdsNumber\": 935,\"values\": [{\"date\": \"19891023\",\"value\": \"2\"},{\"date\": \"19900129\",\"value\": \"3\"}]},{\"bdsNumber\": 936,\"values\": [{\"date\": \"19900129\",\"value\": \"2\"},{\"date\": \"19900423\",\"value\": \"3\"}]},{\"bdsNumber\": 937,\"values\": [{\"date\": \"19900129\",\"value\": \"2\"},{\"date\": \"19900423\",\"value\": \"3\"}]},{\"bdsNumber\": 938,\"values\": [{\"date\": \"19900423\",\"value\": \"3\"},{\"date\": \"19900806\",\"value\": \"3\"}]},{\"bdsNumber\": 940,\"values\": [{\"date\": \"19900806\",\"value\": \"3\"},{\"date\": \"19910205\",\"value\": \"3\"}]},{\"bdsNumber\": 943,\"values\": [{\"date\": \"19910205\",\"value\": \"3\"}]},{\"bdsNumber\": 945,\"values\": [{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 955,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 956,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 958,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 959,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 961,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"},{\"date\": \"19890417\",\"value\": \"1\"}]},{\"bdsNumber\": 962,\"values\": [{\"date\": \"19890417\",\"value\": \"2\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 964,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"}]},{\"bdsNumber\": 966,\"values\": [{\"date\": \"19890227\",\"value\": \"1\"},{\"date\": \"19890417\",\"value\": \"1\"}]},{\"bdsNumber\": 968,\"values\": [{\"date\": \"19890417\",\"value\": \"1\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 969,\"values\": [{\"date\": \"19890417\",\"value\": \"1\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 970,\"values\": [{\"date\": \"19890417\",\"value\": \"1\"},{\"date\": \"19890717\",\"value\": \"1\"}]},{\"bdsNumber\": 973,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"3\"}]},{\"bdsNumber\": 975,\"values\": [{\"date\": \"19890717\",\"value\": \"1\"},{\"date\": \"19891023\",\"value\": \"1\"}]},{\"bdsNumber\": 976,\"values\": [{\"date\": \"19890717\",\"value\": \"2\"},{\"date\": \"19891023\",\"value\": \"1\"}]},{\"bdsNumber\": 978,\"values\": [{\"date\": \"19891023\",\"value\": \"1\"},{\"date\": \"19900129\",\"value\": \"1\"}]},{\"bdsNumber\": 980,\"values\": [{\"date\": \"19891023\",\"value\": \"3\"},{\"date\": \"19900129\",\"value\": \"3\"}]},{\"bdsNumber\": 982,\"values\": [{\"date\": \"19900129\",\"value\": \"1\"},{\"date\": \"19900423\",\"value\": \"1\"}]},{\"bdsNumber\": 984,\"values\": [{\"date\": \"19900129\",\"value\": \"1\"},{\"date\": \"19900423\",\"value\": \"1\"}]},{\"bdsNumber\": 986,\"values\": [{\"date\": \"19900423\",\"value\": \"1\"},{\"date\": \"19900806\",\"value\": \"1\"}]},{\"bdsNumber\": 989,\"values\": [{\"date\": \"19900423\",\"value\": \"2\"},{\"date\": \"19900806\",\"value\": \"2\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 991,\"values\": [{\"date\": \"19900806\",\"value\": \"1\"},{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 993,\"values\": [{\"date\": \"19910205\",\"value\": \"1\"}]},{\"bdsNumber\": 1278,\"values\": [{\"date\": \"19891023\",\"value\": \"3\"},{\"date\": \"19900129\",\"value\": \"3\"}]}],\"nestedDetails\": [{\"nestingBdsNumber\": 62,\"nestingCode\": \"02\",\"clientDetails\": [{\"bdsNumber\": 63,\"value\": \"19610722\"}]}]}"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $session</span></span>
<span><span class="co">## [1] "x005294f8a1f7d5"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $site</span></span>
<span><span class="co">## [1] "http://localhost:8080/site?session=x005294f8a1f7d5"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $child</span></span>
<span><span class="co">##   id    name        dob       dobm src    sex gad ga smo   bw hgtm hgtf</span></span>
<span><span class="co">## 1 -1 Laura S 1989-01-21 1961-07-22   0 female 276 39   0 2950  164  179</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $time</span></span>
<span><span class="co">##       age xname yname zname                   zref       x       y      z</span></span>
<span><span class="co">## 1  0.0000   age   hgt hgt_z  nl_1997_hgt_female_nl  0.0000 48.0000 -1.515</span></span>
<span><span class="co">## 2  0.1013   age   hgt hgt_z  nl_1997_hgt_female_nl  0.1013 53.5000 -0.499</span></span>
<span><span class="co">## 3  0.1588   age   hgt hgt_z  nl_1997_hgt_female_nl  0.1588 56.0000 -0.261</span></span>
<span><span class="co">## 4  0.2355   age   hgt hgt_z  nl_1997_hgt_female_nl  0.2355 59.5000  0.163</span></span>
<span><span class="co">## 5  0.4846   age   hgt hgt_z  nl_1997_hgt_female_nl  0.4846 65.5000 -0.259</span></span>
<span><span class="co">## 6  0.7529   age   hgt hgt_z  nl_1997_hgt_female_nl  0.7529 71.5000  0.131</span></span>
<span><span class="co">## 7  1.0212   age   hgt hgt_z  nl_1997_hgt_female_nl  1.0212 75.0000 -0.180</span></span>
<span><span class="co">## 8  1.2512   age   hgt hgt_z  nl_1997_hgt_female_nl  1.2512 80.0000  0.421</span></span>
<span><span class="co">## 9  1.5387   age   hgt hgt_z  nl_1997_hgt_female_nl  1.5387 84.0000  0.527</span></span>
<span><span class="co">## 10 2.0397   age   hgt hgt_z  nl_1997_hgt_female_nl  2.0397 90.0000  0.670</span></span>
<span><span class="co">## 11 0.0000   age   wgt wgt_z  nl_1997_wgt_female_nl  0.0000  2.9500 -1.055</span></span>
<span><span class="co">## 12 0.1013   age   wgt wgt_z  nl_1997_wgt_female_nl  0.1013  4.1800 -0.162</span></span>
<span><span class="co">## 13 0.1588   age   wgt wgt_z  nl_1997_wgt_female_nl  0.1588  5.0000  0.401</span></span>
<span><span class="co">## 14 0.2355   age   wgt wgt_z  nl_1997_wgt_female_nl  0.2355  5.9000  0.717</span></span>
<span><span class="co">## 15 0.4846   age   wgt wgt_z  nl_1997_wgt_female_nl  0.4846  8.2400  1.173</span></span>
<span><span class="co">## 16 0.7529   age   wgt wgt_z  nl_1997_wgt_female_nl  0.7529  9.6500  1.052</span></span>
<span><span class="co">## 17 1.0212   age   wgt wgt_z  nl_1997_wgt_female_nl  1.0212 10.9500  1.164</span></span>
<span><span class="co">## 18 1.2512   age   wgt wgt_z  nl_1997_wgt_female_nl  1.2512 11.9000  1.247</span></span>
<span><span class="co">## 19 1.5387   age   wgt wgt_z  nl_1997_wgt_female_nl  1.5387 12.8000  1.228</span></span>
<span><span class="co">## 20 2.0397   age   wgt wgt_z  nl_1997_wgt_female_nl  2.0397 13.9000  0.989</span></span>
<span><span class="co">## 21 0.1013   age   hdc hdc_z  nl_1997_hdc_female_nl  0.1013 37.6000  0.418</span></span>
<span><span class="co">## 22 0.1588   age   hdc hdc_z  nl_1997_hdc_female_nl  0.1588 39.0000  0.605</span></span>
<span><span class="co">## 23 0.2355   age   hdc hdc_z  nl_1997_hdc_female_nl  0.2355 40.5000  0.696</span></span>
<span><span class="co">## 24 0.4846   age   hdc hdc_z  nl_1997_hdc_female_nl  0.4846 44.1000  1.021</span></span>
<span><span class="co">## 25 0.7529   age   hdc hdc_z  nl_1997_hdc_female_nl  0.7529 46.6000  1.418</span></span>
<span><span class="co">## 26 1.0212   age   hdc hdc_z  nl_1997_hdc_female_nl  1.0212 47.8000  1.307</span></span>
<span><span class="co">## 27 1.2512   age   hdc hdc_z  nl_1997_hdc_female_nl  1.2512 48.7000  1.373</span></span>
<span><span class="co">## 28 1.5387   age   hdc hdc_z  nl_1997_hdc_female_nl  1.5387 49.2000  1.246</span></span>
<span><span class="co">## 29 2.0397   age   hdc hdc_z  nl_1997_hdc_female_nl  2.0397 50.0000  1.224</span></span>
<span><span class="co">## 30 0.0000   age   bmi bmi_z  nl_1997_bmi_female_nl  0.0000 12.8038  0.259</span></span>
<span><span class="co">## 31 0.1013   age   bmi bmi_z  nl_1997_bmi_female_nl  0.1013 14.6039  0.231</span></span>
<span><span class="co">## 32 0.1588   age   bmi bmi_z  nl_1997_bmi_female_nl  0.1588 15.9439  0.701</span></span>
<span><span class="co">## 33 0.2355   age   bmi bmi_z  nl_1997_bmi_female_nl  0.2355 16.6655  0.734</span></span>
<span><span class="co">## 34 0.4846   age   bmi bmi_z  nl_1997_bmi_female_nl  0.4846 19.2063  1.688</span></span>
<span><span class="co">## 35 0.7529   age   bmi bmi_z  nl_1997_bmi_female_nl  0.7529 18.8762  1.325</span></span>
<span><span class="co">## 36 1.0212   age   bmi bmi_z  nl_1997_bmi_female_nl  1.0212 19.4667  1.780</span></span>
<span><span class="co">## 37 1.2512   age   bmi bmi_z  nl_1997_bmi_female_nl  1.2512 18.5937  1.394</span></span>
<span><span class="co">## 38 1.5387   age   bmi bmi_z  nl_1997_bmi_female_nl  1.5387 18.1406  1.277</span></span>
<span><span class="co">## 39 2.0397   age   bmi bmi_z  nl_1997_bmi_female_nl  2.0397 17.1605  0.825</span></span>
<span><span class="co">## 40 0.1013   age   dsc dsc_z  ph_2023_dsc_female_40  0.1013 15.5600 -0.094</span></span>
<span><span class="co">## 41 0.1588   age   dsc dsc_z  ph_2023_dsc_female_40  0.1588 17.6900 -0.075</span></span>
<span><span class="co">## 42 0.2355   age   dsc dsc_z  ph_2023_dsc_female_40  0.2355 20.5700 -0.125</span></span>
<span><span class="co">## 43 0.4846   age   dsc dsc_z  ph_2023_dsc_female_40  0.4846 25.5500 -1.553</span></span>
<span><span class="co">## 44 0.7529   age   dsc dsc_z  ph_2023_dsc_female_40  0.7529 43.7500  0.672</span></span>
<span><span class="co">## 45 1.0212   age   dsc dsc_z  ph_2023_dsc_female_40  1.0212 50.9200  0.708</span></span>
<span><span class="co">## 46 1.2512   age   dsc dsc_z  ph_2023_dsc_female_40  1.2512 54.3400  0.319</span></span>
<span><span class="co">## 47 1.5387   age   dsc dsc_z  ph_2023_dsc_female_40  1.5387 56.6500 -0.385</span></span>
<span><span class="co">## 48 2.0397   age   dsc dsc_z  ph_2023_dsc_female_40  2.0397 70.0500  1.536</span></span>
<span><span class="co">## 49 0.0000   hgt   wfh wfh_z nl_1997_wfh_female_nla 48.0000  2.9500     NA</span></span>
<span><span class="co">## 50 0.1013   hgt   wfh wfh_z nl_1997_wfh_female_nla 53.5000  4.1800  0.215</span></span>
<span><span class="co">## 51 0.1588   hgt   wfh wfh_z nl_1997_wfh_female_nla 56.0000  5.0000  0.764</span></span>
<span><span class="co">## 52 0.2355   hgt   wfh wfh_z nl_1997_wfh_female_nla 59.5000  5.9000  0.744</span></span>
<span><span class="co">## 53 0.4846   hgt   wfh wfh_z nl_1997_wfh_female_nla 65.5000  8.2400  1.728</span></span>
<span><span class="co">## 54 0.7529   hgt   wfh wfh_z nl_1997_wfh_female_nla 71.5000  9.6500  1.342</span></span>
<span><span class="co">## 55 1.0212   hgt   wfh wfh_z nl_1997_wfh_female_nla 75.0000 10.9500  1.726</span></span>
<span><span class="co">## 56 1.2512   hgt   wfh wfh_z nl_1997_wfh_female_nla 80.0000 11.9000  1.379</span></span>
<span><span class="co">## 57 1.5387   hgt   wfh wfh_z nl_1997_wfh_female_nla 84.0000 12.8000  1.242</span></span>
<span><span class="co">## 58 2.0397   hgt   wfh wfh_z nl_1997_wfh_female_nla 90.0000 13.9000  0.820</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $screeners</span></span>
<span><span class="co">##   Categorie CategorieOmschrijving Code</span></span>
<span><span class="co">## 1      1000                Lengte 1031</span></span>
<span><span class="co">## 2      2000               Gewicht 2075</span></span>
<span><span class="co">## 3      3000           Hoofdomtrek 3021</span></span>
<span><span class="co">##                                                                                                                                                                                                                                                                                                                                                         CodeOmschrijving</span></span>
<span><span class="co">## 1                                                                                                                                                                                                                                          Het advies volgens de JGZ-richtlijn lengtegroei is als volgt: In principe geen verwijzing nodig, naar eigen inzicht handelen.</span></span>
<span><span class="co">## 2 Het advies volgens de JGZ-richtlijn ondergewicht is als volgt: Sterke gewichtsafname (-1 SD), advies: Is er sprake van een afwijkende voedingstoestand en/of klachten of symptomen die kunnen wijzen op onderliggende ziekte of problemen? Indien ja, Verwijzen naar kinderarts. Indien nee, dan is er in principe geen verwijzing nodig. Naar eigen inzicht handelen.</span></span>
<span><span class="co">## 3                                                                                                                                                                                                                                                                                                          De richtlijn hoofdomtrek is bedoeld voor kinderen tot 1 jaar.</span></span>
<span><span class="co">##   Versie Leeftijd</span></span>
<span><span class="co">## 1 1.23.0   2.0397</span></span>
<span><span class="co">## 2 1.23.0   2.0397</span></span>
<span><span class="co">## 3 1.23.0   2.0397</span></span></code></pre>
</div>
<div class="tab-pane" id="bash-9" role="tabpanel" aria-labelledby="bash-9-tab">

<div class="sourceCode" id="cb80"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sX</span> <span class="st">'POST'</span> <span class="dt">\</span></span>
<span id="cb80-2"><a href="#cb80-2" tabindex="-1"></a><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/blend/request/json'</span> <span class="dt">\</span></span>
<span id="cb80-3"><a href="#cb80-3" tabindex="-1"></a>-H <span class="st">'accept: application/json'</span> <span class="dt">\</span></span>
<span id="cb80-4"><a href="#cb80-4" tabindex="-1"></a>-H <span class="st">'Content-Type: application/json'</span> <span class="dt">\</span></span>
<span id="cb80-5"><a href="#cb80-5" tabindex="-1"></a>-d <span class="st">'{</span></span>
<span id="cb80-6"><a href="#cb80-6" tabindex="-1"></a><span class="st">"txt": "'</span><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'/ocpu/library/bdsreader/examples/Laura_S.json",</span></span>
<span id="cb80-7"><a href="#cb80-7" tabindex="-1"></a><span class="st">"sitehost": "'</span><span class="va">$(</span><span class="fu">cat</span> .host<span class="va">)</span><span class="st">'",</span></span>
<span id="cb80-8"><a href="#cb80-8" tabindex="-1"></a><span class="st">"blend": "standard"</span></span>
<span id="cb80-9"><a href="#cb80-9" tabindex="-1"></a><span class="st">}'</span></span></code></pre></div>
<pre><code><span><span class="co">## cannot open the connection to 'http://localhost:8080/ocpu/library/bdsreader/examples/Laura_S.json'</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## In call:</span></span>
<span><span class="co">## file(description = txt, open = "rt")</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Backtrace:</span></span>
<span><span class="co">##      ▆</span></span>
<span><span class="co">##   1. ├─base::eval(call)</span></span>
<span><span class="co">##   2. │ └─base::eval(call)</span></span>
<span><span class="co">##   3. ├─base::withCallingHandlers(...)</span></span>
<span><span class="co">##   4. ├─base::withVisible(eval(expr, envir))</span></span>
<span><span class="co">##   5. └─base::eval(expr, envir)</span></span>
<span><span class="co">##   6.   └─base::eval(expr, envir)</span></span>
<span><span class="co">##   7.     └─james::request_blend(...)</span></span>
<span><span class="co">##   8.       └─james:::request_blend_standard(...)</span></span>
<span><span class="co">##   9.         └─james::request_site(...)</span></span>
<span><span class="co">##  10.           └─james:::get_session(txt, sitehost, format = format)</span></span>
<span><span class="co">##  11.             └─jamesclient::james_post(...)</span></span>
<span><span class="co">##  12.               └─jamesclient::read_json_js(txt = txt) at jamesclient/R/james_post.R:54:3</span></span>
<span><span class="co">##  13.                 └─base::file(description = txt, open = "rt") at jamesclient/R/read_json.R:26:5</span></span></code></pre>
</div>
</div>
</div>
<div class="section level4 unnumbered">
<h4 class="unnumbered" id="section-18"></h4>
</div>
</div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<div class="section level3">
<h3 id="internal">Internal<a class="anchor" aria-label="anchor" href="#internal"></a>
</h3>
<table class="table">
<colgroup>
<col width="57%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th align="left">Description</th>
<th align="left">Status</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://growthcharts.org/james/news/index.html">Changelog</a></td>
<td align="left">open</td>
</tr>
<tr class="even">
<td align="left"><a href="https://james.groeidiagrammen.nl/docs/" class="external-link">OpenAPI
specification</a></td>
<td align="left">open</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://james.groeidiagrammen.nl/schemas/bds_v3.0.json" class="external-link">JSON data
schema 3.0</a></td>
<td align="left">open</td>
</tr>
<tr class="even">
<td align="left"><a href="https://github.com/growthcharts" class="external-link">Source
files</a></td>
<td align="left">open</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://github.com/growthcharts/james/issues" class="external-link">JAMES issue
tracker</a></td>
<td align="left">open</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="external">External<a class="anchor" aria-label="anchor" href="#external"></a>
</h3>
<table class="table">
<colgroup>
<col width="57%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th align="left">Description</th>
<th align="left">Status</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://tnochildhealthstatistics.shinyapps.io/james_tryout/" class="external-link">JAMES
demo</a></td>
<td align="left">current</td>
</tr>
<tr class="even">
<td align="left"><a href="https://decor.nictiz.nl/pub/jeugdgezondheidszorg/jgz-html-20240426T081156/index.html" class="external-link">Basisdataset
JGZ</a></td>
<td align="left">current</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.opencpu.org/api.html" class="external-link">OpenCPU
API</a></td>
<td align="left">current</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://stefvanbuuren.name" class="external-link">Stef van Buuren</a>, <a href="https://nl.linkedin.com/in/arjanhjhuizing" class="external-link">Arjan Huizing</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
